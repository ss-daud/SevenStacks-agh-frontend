export const gpt_query = (brain, input, history, template) => {
  let query = `${brain} based on ${input} and ${
    history ? history : ""
  } following the normal physical exam template ${template}"`;

  let filter = `Add Filters  : `;

  filter += `Response should only be in HTML format. Also response should only generate result no other instructions.`;
  filter += "Response should not display that it is an html code like (```html ```)";
  filter += `Response should not have any color related styling.`;
  filter += `Response should not have any indication that this response is generated by an AI.`;
  filter += `Response should not be in table format.`;

  query += filter;


  // Change 1: reduce cluter for testing a simple prompt
  // query = `${brain} : ${input}.`

  // Change 2: Hard code SOAP command
  //  query = `${brain} objective, subjective, assessment and include differential diagnosis, plan and include suggested testing, instruction letter to patient. Split the physical exam and to vital signs Including BMI and organs examined individually: ${input}`


  query = `${brain} Document as a physician would in a chief complain, subjective, objective, labs and x-rays, assessment and plan format in that order. 
Start by documenting patient’s name date of birth and date of visit, physician name at the top of the report
The Subjective should be in a paragraph form
Always start the subjective with age and gender .
Document and ROS following subjective in bullet format
Document PMH after ROS in bullet format
Document social history after PMH in bullet format
Document home medications in bullet format following PMH
Document allergies following home medications in bullet format
The objective in a bullet points format.  
Calculate and Include BMI with the vital signs section and leave a blank line between BMI and the rest of the physical examination.  Document the BMI value only and do not document the calculation process.  Document the interpretation of the BMI next to the BMI value 
Normal Physical Exam =
General Appearance: The patient appears [well-developed, well-nourished/other observations]. There are no signs of distress or acute discomfort. The patient is oriented to person, place, and time.
HEENT (Head, Eyes, Ears, Nose, Throat):
• Head: Normocephalic, atraumatic.
• Eyes: Pupils equal, round, and reactive to light. Extraocular movements intact. No evidence of conjunctival injection or discharge.
• Ears: Bilateral canals patent, tympanic membranes intact.
• Nose: Nasal mucosa moist without discharge.
• Throat: Oropharynx clear without erythema or exudates.
Chest:
• Inspection: Chest wall symmetrical, no deformities.
• Palpation: No tenderness or masses. Chest expansion equal bilaterally.
• Percussion: Resonant note.
• Auscultation: Breath sounds clear bilaterally, no wheezes, rales, or rhonchi.
Heart:
• Inspection/Palpation: No visible or palpable precordial pulsations.
• Auscultation: Regular rate and rhythm. S1 and S2 audible, with no murmurs, rubs, or gallops.
Abdomen:
• Inspection: Abdomen flat, no distention or masses.
• Palpation: Soft, non-tender, no guarding or rigidity. No palpable hepatosplenomegaly.
• Auscultation: Bowel sounds present in all quadrants.
Extremities:
• Upper Extremities: No clubbing, cyanosis, or edema. Full range of motion.
• Lower Extremities: No clubbing, cyanosis, or edema. Full range of motion. Pulses strong and equal bilaterally.
Skin:
• Color: Skin color is [appropriate for ethnicity].
• Temperature: Skin warm and dry.
• Lesions: No rashes, lesions, or abnormal pigmentation.
Musculoskeletal:
• Gait: Normal, no limp.
• Strength: 5/5 strength in all extremities.
• Joint Exam: No swelling, tenderness, or deformities noted.
Neurology:
• Mental Status: Alert and oriented to person, place, and time.
• Cranial Nerves: Intact.
• Motor Exam: Strength 5/5 throughout.
• Sensory Exam: Sensation intact.
• Reflexes: Deep tendon reflexes 2+ and symmetrical.
If Physical exam is normal document above.
If Physical exam is other than normal document only the abnormal findings for the examined organ
Add differential diagnosis using medical terms and expansive list and suggest further testing in a specific way using medical terms and recommend medications in a specific and expansive way.  
Combine suggested testing, suggested treatment in one section with plan. 
Combine medications with tests in one plan section.  
Highlight in bold font all AI suggestions indicating they were generated by the AI.  
At the end generate a letter of instruction to the patient using a formal letter format.  

End each report with  Ahmed Badr, MD, FCCP


: ${input}`





  return query;
};

// let filter = ` resposne should be in html formay based on the data provided ans should only be in html format, also make sure the data is related to medical field and if there is an error it should highlight it only html format. if there is some query where you are not able to answer just return in html tag you were not able to find the answer.`;
// filter += `Reponse generated should not have extra instructions. for user to read such as \`\`\` Please replace the placeholder text with your actual data and error messages `;
// filter += `there should be no text color style applied to response.`
// filter += 'there should be no similar content in response \`\`\` The final HTML file when rendered would provide a neatly organized clinical management plan. However, this information should be used as a guideline and does not substitute for professional medical advice. '
// filter += 'there should be no table in response.'
// filter += 'remove if any "As an AI" type of response'
